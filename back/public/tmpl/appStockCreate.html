<main class="stock-create">
  <h1>Ajout d'un article</h1>
  <form ng-submit="submit();" name="f">
    <label>
      <div>Nom</div>
      <input
        type="text"
        name="name"
        ng-model="article.name"
        required
        ng-minlength="3"
        ng-pattern="/^[^\d]*$/"
        app-autofocus
      />
      <div class="error">
        <span ng-if="f.name.$touched">
          <span ng-if="f.name.$invalid && f.name.$error.required">
            Le nom est obligatoire.
          </span>
          <span ng-if="f.name.$invalid && f.name.$error.minlength">
            Le nom doit faire au moins 3 caractères.
          </span>
          <span
            ng-if="f.name.$invalid && f.name.$error.pattern && !f.name.$error.minlength"
          >
            Le nom ne doit pas contenir de chiffre.
          </span>
        </span>
      </div>
    </label>
    <label>
      <div>Prix</div>
      <input
        type="number"
        name="price"
        min="0"
        step="0.01"
        ng-model="article.price"
        required
      />
      <div class="error">
        <span ng-if="f.price.$touched">
          <span ng-if="f.price.$invalid && f.price.$error.required">
            Le prix est obligatoire.
          </span>
        </span>
      </div>
    </label>
    <label>
      <div>Quantité</div>
      <input
        type="number"
        name="qty"
        min="0"
        step="1"
        ng-model="article.qty"
        required
      />
      <div class="error">
        <span ng-if="f.qty.$touched">
          <span ng-if="f.qty.$invalid && f.qty.$error.required">
            La quantité est obligatoire.
          </span>
        </span>
      </div>
    </label>
    <button ng-disabled="f.$invalid" class="primary">Ajouter</button>
  </form>
</main>
